libname outp '/home/u38072055/out1';               /*Output directory*/

%macro ReadFiles(directory);                  /*Define Macro - ReadFiles*/
data outp.file_list(keep=fname);  
	rc=filename("mydir","&directory");            /*Input directory*/
	did=dopen("mydir");                            /*Directory ID*/
	if did>0 then
		do i=1 to dnum(did);                       /*Loops from 1 to the number of items in directory*/
			fname=dread(did,i);                  /* Reads the name of the directory member*/
			put "fname = " fname;
			output;
		end;
	rc=dclose(did);                                /*Closes the directory*/
run;

proc print data=outp.file_list; 
run;

%ImportFile(&directory,&fname);
%mend ReadFiles;

%ReadFiles(/home/u38072055/pvn2);   


libname outp '/home/u38072055/out1';               /*Output directory*/

%macro ImportFile(directory,fname);                       /*Define Macro*/           
proc import out=outp.file_import                  /*Output SAS dataset*/
		datafile="&directory/&fname"    /* Import file location*/
		dbms=tab replace;
run;
%mend ImportFile;
